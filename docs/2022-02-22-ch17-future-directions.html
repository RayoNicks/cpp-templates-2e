
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Chapter 17 Future Directions Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="2022-02-23-ch18-the-polymorphic-power-of-templates.html" />
    
    
    <link rel="prev" href="2022-02-17-ch16-specialization-and-overloading.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="2021-12-15-ch1-function-templates.html">
            
                <a href="2021-12-15-ch1-function-templates.html">
            
                    
                    Chapter 1 Funtion Templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="2021-12-20-ch2-class-templates.html">
            
                <a href="2021-12-20-ch2-class-templates.html">
            
                    
                    Chapter 2 Class Templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="2021-12-20-ch3-nontype-template-parameters.html">
            
                <a href="2021-12-20-ch3-nontype-template-parameters.html">
            
                    
                    Chapter 3 Nontype Template Parameters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="2021-12-20-ch4-variadic-templates.html">
            
                <a href="2021-12-20-ch4-variadic-templates.html">
            
                    
                    Chapter 4 Variadic Templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="2021-12-30-ch5-tricky-basics.html">
            
                <a href="2021-12-30-ch5-tricky-basics.html">
            
                    
                    Chapter 5 Tricky Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="2022-01-04-ch6-move-semantics-and-enable-if.html">
            
                <a href="2022-01-04-ch6-move-semantics-and-enable-if.html">
            
                    
                    Chapter 6 Move Semantics and enable_if<>
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="2022-01-05-ch7-by-value-or-by-reference.html">
            
                <a href="2022-01-05-ch7-by-value-or-by-reference.html">
            
                    
                    Chapter 7 By Value or by Reference?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="2022-01-06-ch8-compile-time-programming.html">
            
                <a href="2022-01-06-ch8-compile-time-programming.html">
            
                    
                    Chapter 8 Compile-Time Programming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="2022-01-06-ch9-using-templates-in-practice.html">
            
                <a href="2022-01-06-ch9-using-templates-in-practice.html">
            
                    
                    Chapter 9 Using Templates in Practice
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="2022-01-07-ch10-basic-template-terminology.html">
            
                <a href="2022-01-07-ch10-basic-template-terminology.html">
            
                    
                    Chapter 10 Basic Template Terminology
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="2022-01-08-ch11-generic-libraries.html">
            
                <a href="2022-01-08-ch11-generic-libraries.html">
            
                    
                    Chapter 11 Generic Libraries
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="2022-01-12-ch12-fundamentals-in-depth.html">
            
                <a href="2022-01-12-ch12-fundamentals-in-depth.html">
            
                    
                    Chapter 12 Fundamentals in Depth
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="2022-01-27-ch13-names-in-templates.html">
            
                <a href="2022-01-27-ch13-names-in-templates.html">
            
                    
                    Chapter 13 Names in Templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="2022-02-07-ch14-instantiation.html">
            
                <a href="2022-02-07-ch14-instantiation.html">
            
                    
                    Chapter 14 Instantiation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="2022-02-15-ch15-template-argument-deduction.html">
            
                <a href="2022-02-15-ch15-template-argument-deduction.html">
            
                    
                    Chapter 15 Template Argument Deduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="2022-02-17-ch16-specialization-and-overloading.html">
            
                <a href="2022-02-17-ch16-specialization-and-overloading.html">
            
                    
                    Chapter 16 Specialization and Overloading
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.18" data-path="2022-02-22-ch17-future-directions.html">
            
                <a href="2022-02-22-ch17-future-directions.html">
            
                    
                    Chapter 17 Future Directions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="2022-02-23-ch18-the-polymorphic-power-of-templates.html">
            
                <a href="2022-02-23-ch18-the-polymorphic-power-of-templates.html">
            
                    
                    Chapter 18 The Polymorphic Power of Templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="2022-03-01-ch19-implementing-traits.html">
            
                <a href="2022-03-01-ch19-implementing-traits.html">
            
                    
                    Chapter 19 Implementing Traits
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="2022-03-02-ch20-overloading-on-type-properties.html">
            
                <a href="2022-03-02-ch20-overloading-on-type-properties.html">
            
                    
                    Chapter 20 Overloading on Type Properties
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22" data-path="2022-03-03-ch21-templates-and-inheritance.html">
            
                <a href="2022-03-03-ch21-templates-and-inheritance.html">
            
                    
                    Chapter 21 Templates and Inheritance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23" data-path="2022-03-05-ch22-bridging-static-and-dynamic-polymorphism.html">
            
                <a href="2022-03-05-ch22-bridging-static-and-dynamic-polymorphism.html">
            
                    
                    Chapter 22 Bridging Static and Dynamic Polymorphism
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24" data-path="2022-03-05-ch23-metaprogramming.html">
            
                <a href="2022-03-05-ch23-metaprogramming.html">
            
                    
                    Chapter 23 Metaprogramming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25" data-path="2022-03-06-ch24-typelists.html">
            
                <a href="2022-03-06-ch24-typelists.html">
            
                    
                    Chapter 24 Typelists
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26" data-path="2022-03-07-ch25-tuples.html">
            
                <a href="2022-03-07-ch25-tuples.html">
            
                    
                    Chapter 25 Tuples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27" data-path="2022-03-08-ch26-discriminated-unions.html">
            
                <a href="2022-03-08-ch26-discriminated-unions.html">
            
                    
                    Chapter 26 Discriminated Unions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28" data-path="2022-03-09-ch27-expression-templates.html">
            
                <a href="2022-03-09-ch27-expression-templates.html">
            
                    
                    Chapter 27 Expression Templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29" data-path="2022-03-09-ch28-debugging-templates.html">
            
                <a href="2022-03-09-ch28-debugging-templates.html">
            
                    
                    Chapter 28 Debugging Templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.30" data-path="2022-01-05-appB-value-categories.html">
            
                <a href="2022-01-05-appB-value-categories.html">
            
                    
                    Appendix B Value Categories
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.31" data-path="2022-03-02-appC-overload-resolution.html">
            
                <a href="2022-03-02-appC-overload-resolution.html">
            
                    
                    Appendix C Overload Resolution
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Chapter 17 Future Directions</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="17-&#x6A21;&#x677F;&#x7684;&#x672A;&#x6765;">17 &#x6A21;&#x677F;&#x7684;&#x672A;&#x6765;</h1>
<h2 id="171-&#x66F4;&#x5BBD;&#x677E;&#x7684;typename&#x5173;&#x952E;&#x5B57;&#x89C4;&#x5219;">17.1 &#x66F4;&#x5BBD;&#x677E;&#x7684;typename&#x5173;&#x952E;&#x5B57;&#x89C4;&#x5219;</h2>
<p>&#x6807;&#x51C6;&#x7684;&#x53D1;&#x5C55;&#x65B9;&#x5411;&#x662F;&#x653E;&#x5BBD;<code>typename</code>&#x5173;&#x952E;&#x5B57;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x4F8B;&#x5982;&#x5728;&#x4E4B;&#x524D;&#x4E0D;&#x5141;&#x8BB8;&#x4F7F;&#x7528;<code>typename</code>&#x7684;&#x5730;&#x65B9;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>typename</code>&#x5173;&#x952E;&#x5B57;&#xFF08;C++11&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0;&#xFF09;&#xFF0C;&#x4EE5;&#x53CA;&#x5728;&#x7F16;&#x8BD1;&#x5668;&#x53EF;&#x4EE5;&#x63A8;&#x5BFC;&#x51FA;&#x53D7;&#x9650;&#x4F9D;&#x8D56;&#x578B;&#x540D;&#x79F0;&#x662F;&#x7C7B;&#x578B;&#x65F6;&#x7701;&#x7565;<code>typename</code>&#x5173;&#x952E;&#x5B57;&#xFF08;&#x4E66;&#x4E2D;&#x5217;&#x51FA;&#x4E86;&#x51E0;&#x79CD;&#x6B63;&#x5728;&#x88AB;&#x8BA8;&#x8BBA;&#x7684;&#x60C5;&#x5F62;&#xFF0C;&#x4F46;&#x611F;&#x89C9;&#x53EA;&#x662F;&#x8BED;&#x6CD5;&#x7CD6;&#x800C;&#x5DF2;&#xFF0C;&#x8FD8;&#x662F;&#x89C4;&#x8303;&#x4E00;&#x4E9B;&#x597D;&#xFF09;&#x3002;</p>
<h2 id="172-&#x66F4;&#x591A;&#x7C7B;&#x578B;&#x7684;&#x975E;&#x7C7B;&#x578B;&#x6A21;&#x677F;&#x5F62;&#x53C2;">17.2 &#x66F4;&#x591A;&#x7C7B;&#x578B;&#x7684;&#x975E;&#x7C7B;&#x578B;&#x6A21;&#x677F;&#x5F62;&#x53C2;</h2>
<p>&#x76EE;&#x524D;&#x975E;&#x7C7B;&#x578B;&#x6A21;&#x677F;&#x53C2;&#x6570;&#x53EA;&#x80FD;&#x662F;&#x6574;&#x578B;&#xFF0C;&#x6807;&#x51C6;&#x672A;&#x6765;&#x53EF;&#x80FD;&#x652F;&#x6301;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x548C;&#x6D6E;&#x70B9;&#x578B;&#xFF1A;</p>
<ul>
<li>&#x5BF9;&#x4E8E;C&#x98CE;&#x683C;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x7684;&#x975E;&#x7C7B;&#x578B;&#x6A21;&#x677F;&#x53C2;&#x6570;&#xFF0C;&#x7531;&#x4E8E;&#x4F1A;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x4E3A;&#x5730;&#x5740;&#xFF0C;&#x800C;&#x4E24;&#x4E2A;&#x76F8;&#x540C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x4E5F;&#x53EF;&#x80FD;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x8FD9;&#x5C31;&#x5F88;&#x96BE;&#x533A;&#x5206;&#x5B9E;&#x4F8B;&#x5316;&#x540E;&#x7684;&#x4E24;&#x4E2A;&#x6A21;&#x677F;&#x662F;&#x5426;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;</li>
<li>&#x5BF9;&#x4E8E;&#x6D6E;&#x70B9;&#x578B;&#xFF0C;&#x4E5F;&#x662F;&#x5F88;&#x96BE;&#x786E;&#x5B9A;&#x4E24;&#x4E2A;&#x5B9E;&#x4F8B;&#x662F;&#x5426;&#x76F8;&#x7B49;&#xFF0C;&#x56E0;&#x4E3A;&#x6D6E;&#x70B9;&#x6570;&#x5B58;&#x50A8;&#x5B58;&#x5728;&#x8BEF;&#x5DEE;</li>
</ul>
<h2 id="173-&#x51FD;&#x6570;&#x6A21;&#x677F;&#x504F;&#x7279;&#x5316;">17.3 &#x51FD;&#x6570;&#x6A21;&#x677F;&#x504F;&#x7279;&#x5316;</h2>
<p>&#x5B9E;&#x4F8B;&#x5316;&#x7C7B;&#x6A21;&#x677F;&#x65F6;&#x5C06;&#x9996;&#x5148;&#x5339;&#x914D;&#x4E3B;&#x6A21;&#x677F;&#xFF0C;&#x5728;&#x627E;&#x5230;&#x4E86;&#x4E3B;&#x6A21;&#x7248;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#x90E8;&#x5206;&#x5339;&#x914D;&#x7684;&#x504F;&#x7279;&#x5316;&#x7C7B;&#x6A21;&#x677F;&#xFF0C;&#x5C06;&#x5B9E;&#x4F8B;&#x5316;&#x504F;&#x7279;&#x5316;&#x7C7B;&#x6A21;&#x677F;&#x3002;&#x539F;&#x6587;&#xFF1A;</p>
<blockquote>
<p>When a class template is looked up, only primary templates are considered at first. If, after the selection of a primary template, it turns out that there is a partial specialization of that template with a template argument pattern that matches that of the instantiation, its definition (in other words, its body) is instantiated instead of the definition of the primary template. (Full template specializations work exactly the same way.)</p>
</blockquote>
<p>&#x5BF9;&#x4E8E;&#x51FD;&#x6570;&#x6A21;&#x677F;&#xFF0C;&#x4E3B;&#x6A21;&#x677F;&#x4E4B;&#x95F4;&#x53EF;&#x80FD;&#x91CD;&#x8F7D;&#xFF0C;&#x6240;&#x4EE5;&#x504F;&#x7279;&#x5316;&#x7684;&#x6A21;&#x677F;&#x8BE5;&#x5BF9;&#x5E94;&#x54EA;&#x4E2A;&#x4E3B;&#x6A21;&#x677F;&#x5462;&#xFF1F;</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span> <span class="hljs-params">(T&amp; x, <span class="hljs-keyword">int</span> i)</span></span>;     <span class="hljs-comment">// a primary template</span>

<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T1, <span class="hljs-keyword">typename</span> T2&gt;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span> <span class="hljs-params">(T1 a, T2 b)</span></span>;      <span class="hljs-comment">// another (overloaded) primary template</span>

<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">void</span> add&lt;T*&gt; (T*&amp;, <span class="hljs-keyword">int</span>);    <span class="hljs-comment">// Which primary template does this specialize?</span>
</code></pre>
<h2 id="174-&#x6A21;&#x677F;&#x5B9E;&#x53C2;&#x6307;&#x5B9A;&#x521D;&#x59CB;&#x5316;">17.4 &#x6A21;&#x677F;&#x5B9E;&#x53C2;&#x6307;&#x5B9A;&#x521D;&#x59CB;&#x5316;</h2>
<p>&#x5728;&#x5F53;&#x524D;&#x7684;&#x6807;&#x51C6;&#x4E0B;&#xFF0C;&#x5373;&#x4F7F;&#x6A21;&#x677F;&#x53C2;&#x6570;&#x6709;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x9664;&#x975E;&#x5176;&#x540E;&#x9762;&#x7684;&#x6A21;&#x677F;&#x53C2;&#x6570;&#x5747;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x5426;&#x5219;&#x5FC5;&#x987B;&#x663E;&#x793A;&#x6307;&#x5B9A;&#x6A21;&#x677F;&#x5B9E;&#x53C2;&#xFF0C;&#x672A;&#x6765;&#x53EF;&#x80FD;&#x7EB3;&#x5165;&#x6807;&#x51C6;&#x7684;&#x4E00;&#x4E2A;&#x89C4;&#x5219;&#x662F;&#x7C7B;&#x4F3C;C&#x7ED3;&#x6784;&#x4F53;&#x7684;&#x6307;&#x5B9A;&#x521D;&#x59CB;&#x5316;&#xFF1A;</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T,
    <span class="hljs-keyword">typename</span> Move = defaultMove&lt;T&gt;,
    <span class="hljs-keyword">typename</span> Copy = defaultCopy&lt;T&gt;,
    <span class="hljs-keyword">typename</span> Swap = defaultSwap&lt;T&gt;,
    <span class="hljs-keyword">typename</span> Init = defaultInit&lt;T&gt;,
    <span class="hljs-keyword">typename</span> Kill = defaultKill&lt;T&gt;&gt;
<span class="hljs-keyword">class</span> Mutator {
    <span class="hljs-comment">// ...</span>
};

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">(MatrixList ml)</span>
</span>{
    mySort (ml, Mutator &lt;Matrix, .Swap = matrix&lt;Swap&gt;);
}
</code></pre>
<h2 id="175-&#x91CD;&#x8F7D;&#x7C7B;&#x6A21;&#x677F;">17.5 &#x91CD;&#x8F7D;&#x7C7B;&#x6A21;&#x677F;</h2>
<p>&#x7C7B;&#x4F3C;&#x51FD;&#x6570;&#x91CD;&#x8F7D;&#x4E00;&#x6837;&#xFF0C;&#x672A;&#x6765;&#x53EF;&#x80FD;&#x652F;&#x6301;&#x7C7B;&#x6A21;&#x677F;&#x7684;&#x91CD;&#x8F7D;&#xFF1A;</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> Array {
    <span class="hljs-comment">// dynamically sized array</span>
    <span class="hljs-comment">// ...</span>
};
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">unsigned</span> Size&gt;
<span class="hljs-keyword">class</span> Array {
    <span class="hljs-comment">// fixed size array</span>
    <span class="hljs-comment">// ...</span>
};
</code></pre>
<p>&#x4F46;&#x662F;&#x5728;&#x67D0;&#x79CD;&#x7A0B;&#x5EA6;&#x4E0A;&#x6709;&#x70B9;&#x50CF;&#x7279;&#x5316;&#xFF1A;</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T1, <span class="hljs-keyword">typename</span> T2&gt;
<span class="hljs-keyword">class</span> Pair {
    <span class="hljs-comment">// pair of fields</span>
    <span class="hljs-comment">// ...</span>
};
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">int</span> I1, <span class="hljs-keyword">int</span> I2&gt;
<span class="hljs-keyword">class</span> Pair {
    <span class="hljs-comment">// pair of constant integer values</span>
    <span class="hljs-comment">// ...</span>
};
</code></pre>
<h2 id="176-&#x4EFB;&#x610F;&#x4F4D;&#x7F6E;&#x7684;&#x53C2;&#x6570;&#x5305;&#x5C55;&#x5F00;">17.6 &#x4EFB;&#x610F;&#x4F4D;&#x7F6E;&#x7684;&#x53C2;&#x6570;&#x5305;&#x5C55;&#x5F00;</h2>
<p>&#x76EE;&#x524D;&#x6807;&#x51C6;&#x53EA;&#x652F;&#x6301;&#x5C3E;&#x90E8;&#x7684;&#x53C2;&#x6570;&#x5305;&#x5C55;&#x5F00;&#xFF1A;</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span>... Types&gt;
<span class="hljs-keyword">struct</span> Front;

<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> FrontT, <span class="hljs-keyword">typename</span>... Types&gt;
<span class="hljs-keyword">struct</span> Front&lt;FrontT, Types...&gt; {
    <span class="hljs-keyword">using</span> Type = FrontT;
};
</code></pre>
<p>&#x4E0D;&#x652F;&#x6301;&#x9996;&#x90E8;&#x548C;&#x4E2D;&#x95F4;&#x4F4D;&#x7F6E;&#x7684;&#x53C2;&#x6570;&#x5305;&#x5C55;&#x5F00;&#xFF1A;</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span>... Types&gt;
<span class="hljs-keyword">struct</span> Back;

<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> BackT, <span class="hljs-keyword">typename</span>... Types&gt;
<span class="hljs-keyword">struct</span> Back&lt;Types..., BackT&gt; {  <span class="hljs-comment">// ERROR: pack expansion not at the end of</span>
    <span class="hljs-keyword">using</span> Type = BackT;         <span class="hljs-comment">// template argument list</span>
};

<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span>... Types&gt; <span class="hljs-keyword">class</span> Tuple {
};

<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span>... Types&gt;
<span class="hljs-keyword">struct</span> Split;

<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span>... Before, <span class="hljs-keyword">typename</span>... After&gt;
<span class="hljs-keyword">struct</span> Split&lt;T, Before..., T, After...&gt; {
    <span class="hljs-keyword">using</span> before = Tuple&lt;Before...&gt;;
    <span class="hljs-keyword">using</span> after = Tuple&lt;After...&gt;;
};
</code></pre>
<p>&#x5173;&#x952E;&#x95EE;&#x9898;&#x662F;&#x4E0D;&#x77E5;&#x9053;<code>Split</code>&#x6A21;&#x677F;&#x8BE5;&#x5728;&#x54EA;&#x4E00;&#x4E2A;<code>T</code>&#x7684;&#x4F4D;&#x7F6E;&#x5BF9;&#x53C2;&#x6570;&#x5305;&#x8FDB;&#x884C;&#x5206;&#x5272;&#x3002;</p>
<h2 id="177-&#x89C4;&#x8303;&#x5316;void">17.7 &#x89C4;&#x8303;&#x5316;<code>void</code></h2>
<p><code>void</code>&#x662F;&#x4E0D;&#x5B8C;&#x6574;&#x7C7B;&#x578B;&#xFF0C;&#x5F88;&#x591A;&#x65F6;&#x5019;&#x90FD;&#x9700;&#x8981;&#x5355;&#x72EC;&#x8003;&#x8651;<code>void</code>&#xFF1A;</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">auto</span>&amp;&amp; r = f();             <span class="hljs-comment">// error if f() returns void</span>
<span class="hljs-keyword">decltype</span>(<span class="hljs-keyword">auto</span>) r = f();     <span class="hljs-comment">// error if f() returns void</span>
</code></pre>
<h2 id="178-&#x4E3A;&#x6A21;&#x677F;&#x63D0;&#x4F9B;&#x7C7B;&#x578B;&#x68C0;&#x67E5;">17.8 &#x4E3A;&#x6A21;&#x677F;&#x63D0;&#x4F9B;&#x7C7B;&#x578B;&#x68C0;&#x67E5;</h2>
<p>&#x867D;&#x7136;&#x6A21;&#x677F;&#x62A5;&#x9519;&#x65F6;&#x7684;&#x4FE1;&#x606F;&#x90FD;&#x6BD4;&#x8F83;&#x957F;&#xFF08;&#x8BF4;&#x7684;&#x5C31;&#x662F;&#x4F60;g++&#xFF09;&#xFF0C;&#x4F46;&#x662F;&#x5374;&#x5F88;&#x96BE;&#x5224;&#x65AD;&#x662F;&#x6A21;&#x677F;&#x5B9A;&#x4E49;&#x51FA;&#x9519;&#x4E86;&#xFF0C;&#x8FD8;&#x662F;&#x7528;&#x6237;&#x4EE3;&#x7801;&#x89E6;&#x53D1;&#x5B9E;&#x4F8B;&#x5316;&#x7684;&#x4EE3;&#x7801;&#x51FA;&#x9519;&#x4E86;&#xFF0C;C++&#x51C6;&#x5907;&#x5F15;&#x5165;concept&#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt; requires LessThanComparable&lt;T&gt;
<span class="hljs-function">T <span class="hljs-title">max</span><span class="hljs-params">(T a, T b)</span>
</span>{
    <span class="hljs-keyword">return</span> b &lt; a ? a : b;
}

<span class="hljs-keyword">struct</span> X { };
<span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&gt; (X, X);

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    X a, b;
    X m = max(a, b); <span class="hljs-comment">// ERROR: X does not meet the LessThanComparable requirement</span>
}
</code></pre>
<p>&#x5F53;<code>X</code>&#x4E0D;&#x652F;&#x6301;<code>&lt;</code>&#x8FD0;&#x7B97;&#x7B26;&#x65F6;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x5C06;&#x7ED9;&#x51FA;&#x66F4;&#x7B80;&#x5355;&#x7684;&#x62A5;&#x9519;&#x4FE1;&#x606F;&#x3002;</p>
<h2 id="179-&#x53CD;&#x5C04;&#x5143;&#x7F16;&#x7A0B;&#xFF08;reflective-metaprogramming&#xFF09;">17.9 &#x53CD;&#x5C04;&#x5143;&#x7F16;&#x7A0B;&#xFF08;Reflective Metaprogramming&#xFF09;</h2>
<p>&#x53CD;&#x5C04;&#x6307;&#x901A;&#x8FC7;&#x4EE3;&#x7801;&#x83B7;&#x53D6;&#x7A0B;&#x5E8F;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4F8B;&#x5982;&#x7C7B;&#x7684;&#x975E;&#x9759;&#x6001;&#x6570;&#x636E;&#x6210;&#x5458;&#xFF1A;</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">report</span><span class="hljs-params">(T p)</span> </span>{
    <span class="hljs-keyword">constexpr</span> {
        <span class="hljs-built_in">std</span>::meta::info infoT = reflexpr(T);
        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">std</span>::meta::info : <span class="hljs-built_in">std</span>::meta::data_members(infoT)) {
            -&gt; {
                <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; (: <span class="hljs-built_in">std</span>::meta::name(info) :) &lt;&lt; <span class="hljs-string">&quot;: &quot;</span> &lt;&lt; p.(.info.) &lt;&lt; <span class="hljs-string">&apos;\n&apos;</span>;
            }
        }
    }
    <span class="hljs-comment">// code will be injected here</span>
}
</code></pre>
<p>&#x7531;&#x4E8E;<code>constexpr</code>&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#x5C06;&#x5728;&#x7F16;&#x8BD1;&#x65F6;&#x8BA1;&#x7B97;&#xFF0C;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x7C7B;&#x4F3C;&#x4E8E;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">struct</span> X {
    <span class="hljs-keyword">int</span> x;
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> s;
};

<span class="hljs-keyword">template</span>&lt;&gt; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">report</span><span class="hljs-params">(X <span class="hljs-keyword">const</span>&amp; p)</span> </span>{
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;x&quot;</span> &lt;&lt; <span class="hljs-string">&quot;: &quot;</span> &lt;&lt; <span class="hljs-string">&quot;p.x&quot;</span> &lt;&lt; <span class="hljs-string">&apos;\n&apos;</span>;
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;s&quot;</span> &lt;&lt; <span class="hljs-string">&quot;: &quot;</span> &lt;&lt; <span class="hljs-string">&quot;p.s&quot;</span> &lt;&lt; <span class="hljs-string">&apos;\n&apos;</span>;
}
</code></pre>
<p>&#x611F;&#x89C9;&#x662F;&#x4E0D;&#x80FD;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x8BA1;&#x7B97;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x7F16;&#x8BD1;&#x540E;&#x7684;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x90FD;&#x4E22;&#x6389;&#x4E86;&#x3002;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x7C7B;&#x4F3C;&#x4E8E;&#x8C03;&#x8BD5;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x679C;&#x5E26;&#x7740;&#x7684;&#x8BDD;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x5C06;&#x53D8;&#x5927;&#x3002;</p>
<h2 id="1710-&#x53C2;&#x6570;&#x5305;&#x64CD;&#x4F5C;">17.10 &#x53C2;&#x6570;&#x5305;&#x64CD;&#x4F5C;</h2>
<p>&#x76EE;&#x524D;&#x53EA;&#x80FD;&#x901A;&#x8FC7;<code>sizeof...</code>&#x6C42;&#x51FA;&#x53C2;&#x6570;&#x5305;&#x4E2D;&#x5269;&#x4F59;&#x53C2;&#x6570;&#x4E2A;&#x6570;&#xFF0C;&#x672A;&#x6765;&#x8FD8;&#x53EF;&#x80FD;&#x652F;&#x6301;&#x4E0B;&#x6807;&#x8FD0;&#x7B97;&#x6765;&#x83B7;&#x53D6;&#x53C2;&#x6570;&#x5305;&#x4E2D;&#x67D0;&#x4E2A;&#x53C2;&#x6570;&#x3002;</p>
<h2 id="1711-&#x6A21;&#x5757;">17.11 &#x6A21;&#x5757;</h2>
<p>&#x4E3B;&#x8981;&#x7528;&#x6765;&#x63D0;&#x5347;&#x7F16;&#x8BD1;&#x901F;&#x5EA6;&#xFF0C;&#x76EE;&#x524D;&#x6A21;&#x677F;&#x4EE3;&#x7801;&#x53EA;&#x80FD;&#x5199;&#x5728;&#x5934;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x867D;&#x7136;&#x7A0B;&#x5E8F;&#x4E2D;&#x53EF;&#x80FD;&#x53EA;&#x5B9E;&#x4F8B;&#x5316;&#x5F88;&#x5C11;&#x7684;&#x6A21;&#x677F;&#x4EE3;&#x7801;&#xFF0C;&#x4F46;&#x662F;&#x5374;&#x4F1A;&#x5BF9;&#x6574;&#x4E2A;&#x5934;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x548C;&#x8BED;&#x6CD5;&#x5206;&#x6790;&#xFF0C;&#x5F15;&#x5165;&#x6A21;&#x5757;&#x540E;&#x53EF;&#x4EE5;&#x63D0;&#x524D;&#x5C06;&#x5934;&#x6587;&#x4EF6;&#x7F16;&#x8BD1;&#x597D;&#x4EE5;&#x63D0;&#x5347;&#x7F16;&#x8BD1;&#x901F;&#x5EA6;&#x3002;</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="2022-02-17-ch16-specialization-and-overloading.html" class="navigation navigation-prev " aria-label="Previous page: Chapter 16 Specialization and Overloading">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="2022-02-23-ch18-the-polymorphic-power-of-templates.html" class="navigation navigation-next " aria-label="Next page: Chapter 18 The Polymorphic Power of Templates">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Chapter 17 Future Directions","level":"1.18","depth":1,"next":{"title":"Chapter 18 The Polymorphic Power of Templates","level":"1.19","depth":1,"path":"2022-02-23-ch18-the-polymorphic-power-of-templates.md","ref":"2022-02-23-ch18-the-polymorphic-power-of-templates.md","articles":[]},"previous":{"title":"Chapter 16 Specialization and Overloading","level":"1.17","depth":1,"path":"2022-02-17-ch16-specialization-and-overloading.md","ref":"2022-02-17-ch16-specialization-and-overloading.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"2022-02-22-ch17-future-directions.md","mtime":"2022-11-13T05:00:16.191Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-11-13T05:01:04.198Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

